#!/bin/bash

#----------------------------------------------
printCopyrightText()
{
    fileName=${1}

cat << %%COPYRIGHT%% 
/* *******************************COPYRIGHT********************************
 *
 * File: ${fileName}
 *
 * Katania Copyright
 *
 * 2014 Katania Ltd
 * All Rights Reserved
 *
 * All information contained herein is and remains the property of Katania
 * Ltd and its suppliers, if any. The intellectual and technical concepts
 * contained herein are confidential and proprietary to Katania Ltd and
 * its suppliers and may be covered by U.S. and Foreign Patents (or
 * patents in process) and are protected by trade secret and/or copyright
 * law. Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained from 
 * Katania Ltd.
 *
 * Unless required by applicable law or agreed to in writing, this software
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF 
 * ANY KIND, either expressed or implied.
 * 
 * *******************************COPYRIGHT********************************/

%%COPYRIGHT%%
}


#----------------------------------------------
# Main script
#----------------------------------------------

if [[ $# -lt 1 ]]; then
    echo "Usage: $(basename ${0}) fileName"
    exit 1
fi

fileName=${1}

if [[ -z $(grep "Katania Copyright" ${fileName}) ]]; then
    echo Adding copyright text to ${fileName}
    tmpFile=$(mktemp)
    printCopyrightText ${fileName} | cat - ${fileName} > ${tmpFile}
    mv ${tmpFile} ${fileName}
fi


